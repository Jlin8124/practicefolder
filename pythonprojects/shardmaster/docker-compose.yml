
services:
  # --- Database Node 1 ---
  shard-1:
    image: postgres:15-alpine
    container_name: db_shard_1
    ports:
      - "5432:5432"  # Maps localhost:5432 to container:5432
    environment:
      POSTGRES_USER: admin
      POSTGRES_PASSWORD: password123
      POSTGRES_DB: shard1_db

  # --- Database Node 2 ---
  shard-2:
    image: postgres:15-alpine
    container_name: db_shard_2
    ports:
      - "5433:5432"  # Maps localhost:5433 to container:5432
    environment:
      POSTGRES_USER: admin
      POSTGRES_PASSWORD: password123
      POSTGRES_DB: shard2_db

  # --- Database Node 3 ---
  shard-3:
    image: postgres:15-alpine
    container_name: db_shard_3
    ports:
      - "5434:5432"  # Maps localhost:5434 to container:5432
    environment:
      POSTGRES_USER: admin
      POSTGRES_PASSWORD: password123
      POSTGRES_DB: shard3_db